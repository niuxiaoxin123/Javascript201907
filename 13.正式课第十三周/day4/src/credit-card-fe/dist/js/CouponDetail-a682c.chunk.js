webpackJsonp([12],{9:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=function(){history.back()};return r.default.createElement("div",{className:c.default.header+" "+e.classname,ref:function(t){return e.getRef&&e.getRef(t)}},!e.noIcon&&r.default.createElement("i",{className:"iconfont "+c.default.back,onClick:e.back||t},""),r.default.createElement("span",null,e.title),e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var o=n(2),r=a(o),i=n(11),c=a(i)},11:function(e,t){e.exports={header:"index__header-3jM28",back:"index__back-1h9Zn"}},188:function(e,t,n){e.exports=n.p+"img/pass.a6ed6.png"},572:function(e,t,n){(function(e){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),r=l(o),i=n(4),c=l(i),u=n(5),d=l(u),s=n(7),f=l(s),p=n(6),m=l(p),y=n(2),v=l(y),_=n(14),h=n(12),b=n(358),g=a(b),C=n(928),x=l(C),E=n(9),w=l(E),k=n(34),N=n(1124),O=l(N),T=n(188),R=l(T),P=n(8),j=l(P),D="卡券详情",M=function(t){function n(e){(0,c.default)(this,n);var t=(0,f.default)(this,(n.__proto__||(0,r.default)(n)).call(this,e));return t.state={toastShow:!1},t}return(0,m.default)(n,t),(0,d.default)(n,[{key:"componentWillMount",value:function(){this.props.actions.fetch(),j.default.setDocumentTitle(D)}},{key:"componentWillUnmount",value:function(){this.props.actions.fetch(!0)}},{key:"onCopy",value:function(t){return e.bdTrackEvent("coupondetail_copy"),"1"===t&&void(0,k.success)("复制成功")}},{key:"render",value:function(){var e=this,t=this.props.couponDetail,n="",a="",l=null;return t.endFetching&&t.content&&(n="1"===t.content.valid?x.default.validTitle:x.default.invalidTitle,a=x.default.title+" "+n,l="1"===t.content.valid),v.default.createElement("div",{className:x.default.activityDetail},!t.endFetching&&v.default.createElement(k.Loading,null),t.endFetching&&t.content&&v.default.createElement("div",{className:x.default.detailContent},!window.isInWallet&&v.default.createElement(w.default,{title:D}),v.default.createElement("div",{className:x.default.detailWrapper},!window.isInWallet&&v.default.createElement("div",{className:x.default.walletHole}),v.default.createElement("div",{className:x.default.couponLogo},v.default.createElement("img",{alt:"卡券logo",className:!l&&x.default.invalidImg,src:t.content.couponImage2}),!l&&v.default.createElement("img",{src:R.default,alt:"已过期",className:x.default.pass})),v.default.createElement("ul",{className:x.default.detailList},v.default.createElement("li",null,v.default.createElement("h4",{className:a},"有效期"),v.default.createElement("p",null,t.content.startDate," 至 ",t.content.endDate)),v.default.createElement("li",null,v.default.createElement("h4",{className:a},"发放内容"),v.default.createElement("table",{className:x.default.grantContent},v.default.createElement("thead",null),v.default.createElement("tbody",null,t.content.grantContent&&t.content.grantContent.map(function(n,a){return v.default.createElement("tr",{key:a},v.default.createElement("td",{className:x.default.label},n.label,": "),v.default.createElement("td",{className:x.default.text},n.text),v.default.createElement("td",null,v.default.createElement(O.default,{text:l?n.text:null,onCopy:e.onCopy.bind(e,t.content.valid)},v.default.createElement("span",{className:x.default.copy+" "+(l?"":x.default.disabled)},"复制"))))})),v.default.createElement("tfoot",null))),t.content.couponContent&&v.default.createElement("li",null,v.default.createElement("h4",{className:a},"使用细则"),v.default.createElement("div",{className:x.default.useRules,dangerouslySetInnerHTML:{__html:t.content.couponContent}}))))))}}]),n}(y.Component),L=function(e){return{couponDetail:e.couponDetail}},S=function(e){return{actions:(0,h.bindActionCreators)(g,e)}};t.default=(0,_.connect)(L,S)(M)}).call(t,function(){return this}())},888:function(e,t,n){"use strict";function a(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function l(e,t){var n,l,i,c,u,d,s=!1;t||(t={}),n=t.debug||!1;try{i=o(),c=document.createRange(),u=document.getSelection(),d=document.createElement("span"),d.textContent=e,d.style.all="unset",d.style.position="fixed",d.style.top=0,d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",document.body.appendChild(d),c.selectNode(d),u.addRange(c);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");s=!0}catch(n){try{window.clipboardData.setData("text",e),s=!0}catch(n){l=a("message"in t?t.message:r),window.prompt(l,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(c):u.removeAllRanges()),d&&document.body.removeChild(d),i()}return s}var o=n(1241),r="Copy to clipboard: #{key}, Enter";e.exports=l},928:function(e,t){e.exports={walletHole:"index__walletHole-36P_x",activityDetail:"index__activityDetail-ndcNG",detailWrapper:"index__detailWrapper-BZefe",couponLogo:"index__couponLogo-3diy2",invalidImg:"index__invalidImg-clss-",pass:"index__pass-1rPCr",detailList:"index__detailList-W0sL7",title:"index__title-2umm_",validTitle:"index__validTitle-1CJ_z",invalidTitle:"index__invalidTitle-3OrhR",grantContent:"index__grantContent-1JOOV",label:"index__label-1DM13",text:"index__text-1GfWE",copy:"index__copy-2fB-F",disabled:"index__disabled-12D16",useRules:"index__useRules-2LpTt"}},1123:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(2),s=a(d),f=n(888),p=a(f),m=t.CopyToClipboard=function(e){function t(){var e,n,a,l;o(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.onClick=function(e){var t=a.props,n=t.text,l=t.onCopy,o=t.children,r=t.options,i=s.default.Children.only(o),c=(0,p.default)(n,r);l&&l(n,c),i&&i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e)},l=n,r(a,l)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=l(e,["text","onCopy","options","children"]),a=s.default.Children.only(t);return s.default.cloneElement(a,c({},n,{onClick:this.onClick}))}}]),t}(s.default.PureComponent);m.defaultProps={onCopy:void 0,options:void 0}},1124:function(e,t,n){"use strict";var a=n(1123),l=a.CopyToClipboard;l.CopyToClipboard=l,e.exports=l},1241:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}}});